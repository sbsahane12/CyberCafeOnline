<header>
  <nav class="navbar navbar-expand-md bg-body-light border-bottom sticky-top">
    <div class="container-fluid">
      <a href="/" class="navbar-brand">
        <img
          src="/images/cafe.png"
          class="logo-img"
          alt="Logo"
        />
      </a>
      <div class="card-container1 text-center">
        <input id="searchInput" class="form-control mr-sm-2" type="search" placeholder="Search Services" aria-label="Search">
      </div>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <div class="navbar-nav">
          <a class="nav-link" href="/">Home</a>
          <a class="nav-link active" href="/services">All Services</a>
          <a class="nav-link" href="/contact">Contact me</a>
        </div>
        <div class="ms-auto navbar-nav">
          <% if (user) { %>
            <a class="nav-link" href="/user/profile/<%= user._id %>"><i class="fas fa-user"></i> Profile</a>
            <a class="nav-link" href="/user/logout"><i class="fas fa-sign-out-alt"></i> Logout</a>
          <% } else { %>
            <a class="nav-link" href="/user/signup"><i class="fas fa-user-plus"></i> Signup</a>
            <select  name="login" id="loginSelect" class="form-select custom-select nav-link">
              <option value="/user/login">login</option>
              <option value="/user/login">User</option>
              <option value="/admin/login">Admin</option>
            </select>
            
          <% } %>
        </div>
      </div>
    </div>
  </nav>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const searchInput = document.getElementById("searchInput");
      const cards = document.querySelectorAll(".card");
      const loginSelect = document.getElementById("loginSelect");

      searchInput.addEventListener("input", function () {
        const searchTerm = searchInput.value.trim().toLowerCase();

        cards.forEach(function (card) {
          const title = card.getAttribute("data-title").toLowerCase();
          if (title.includes(searchTerm)) {
            card.style.display = "block";
          } else {
            card.style.display = "none";
          }
        });
      });

      loginSelect.addEventListener("change", function () {
        const selectedValue = loginSelect.value;
        if (selectedValue) {
          window.location.href = selectedValue;
        }
      });
    });
  </script>
</header>

<style>
  .custom-select {
    width: 100px;
    height: 40px;
    border: 1px solid black;
    border-radius: 4px;
    background-color: #f8f9fa;
    text-align: center;
    font-size: 14px;
    color: #495057;
    cursor: pointer;
    transition: border-color 0.3s, box-shadow 0.3s;
  }

  .custom-select:focus {
    border-color: #f8f9fa;
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
  }
</style>
